"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[500],{500:function(t,e,n){n.r(e),n.d(e,{default:function(){return p}});var r=n(885),c=n(791),a=n(501),u=n(871),i=n(690),o="Searchbar_input__19umw",s="Searchbar_button__nkcjk",f=n(184);var l=function(t){var e=t.onSubmit,n=(0,c.useState)(""),a=(0,r.Z)(n,2),u=a[0],i=a[1];return(0,f.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),""===u.trim())return alert("Search field is empty!");e(u),i("")},children:[(0,f.jsx)("input",{className:o,type:"text",placeholder:"Search film",value:u,onChange:function(t){i(t.currentTarget.value.toLowerCase())}}),(0,f.jsx)("button",{className:s,type:"submit",children:(0,f.jsx)("span",{children:"Search"})})]})},h="Movies_list__hqYjd";var p=function(){var t,e=(0,a.lr)(),n=(0,r.Z)(e,2),o=n[0],s=n[1],p=(0,c.useState)(null!==(t=o.get("query"))&&void 0!==t?t:""),m=(0,r.Z)(p,2),d=m[0],v=m[1],_=(0,c.useState)([]),b=(0,r.Z)(_,2),k=b[0],x=b[1],y=(0,u.TH)();return(0,c.useEffect)((function(){d&&(0,i.Ai)(d).then((function(t){return x(t.results)}))}),[d]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l,{onSubmit:function(t){v(t),s({query:t}),x([])}}),k&&(0,f.jsx)("ul",{className:h,children:k.map((function(t){return(0,f.jsx)("li",{children:(0,f.jsx)(a.rU,{to:"".concat(t.id),state:{from:y},children:t.title})},t.id)}))})]})}},690:function(t,e,n){n.d(e,{Ai:function(){return l},Hx:function(){return m},Tg:function(){return f},Y5:function(){return h},xc:function(){return p}});var r=n(861),c=n(757),a=n.n(c),u="https://api.themoviedb.org/3",i="dd06e17bf41b8c1999e9b262a8aaf7ee";function o(){return s.apply(this,arguments)}function s(){return s=(0,r.Z)(a().mark((function t(){var e,n,r,c=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:"",n=c.length>1&&void 0!==c[1]?c[1]:{},t.next=4,fetch(e,n);case 4:if(!(r=t.sent).ok){t.next=11;break}return t.next=8,r.json();case 8:t.t0=t.sent,t.next=12;break;case 11:t.t0=Promise.reject(new Error("Not found"));case 12:return t.abrupt("return",t.t0);case 13:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function f(){return o("".concat(u,"/trending/movie/day?api_key=").concat(i))}function l(t){return o("".concat(u,"/search/movie?api_key=").concat(i,"&query=").concat(t))}function h(t){return o("".concat(u,"/movie/").concat(t,"?api_key=").concat(i))}function p(t){return o("".concat(u,"/movie/").concat(t,"/credits?api_key=").concat(i))}function m(t){return o("".concat(u,"/movie/").concat(t,"/reviews?api_key=").concat(i))}}}]);
//# sourceMappingURL=500.eb63005b.chunk.js.map